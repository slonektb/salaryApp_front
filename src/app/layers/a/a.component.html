<form [formGroup]="myForm" (ngSubmit)="submit()">
  <div formArrayName="people">
    <div *ngFor="let person of getPeople(myForm)?.value; let i=index">
      <div style="margin: 5px;" [formGroupName]="i">
        <label>Person {{ i + 1 }}</label>
        <input type="text" placeholder="Name" formControlName="name">
        <button *ngIf="i<1" (click)="addPeople()" type="button">Add People</button>

        <div formArrayName="addresses">
          <div *ngFor="let address of getAddress(person); let j=index">
            <div [formGroupName]="j">
              <span>Address {{ j + 1 }}</span>
              <input type="text" placeholder="house No" formControlName="houseNo">
              <input type="text" placeholder="city" formControlName="city">
              <button *ngIf="j<1" (click)="addAddress(i)" type="button">+</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>

<div style="margin-top: 20px;">
  {{myForm.value | json}}
</div>
